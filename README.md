# マストドン・シェル・スクリプト集

マストドン・インスタンスを利用するためのシェル・スクリプト集です。

## シェルスクリプト一覧
- lmastodon : ローカル・タイムライン取得
- lm        : ローカル・タイムライン取得 ( lmastodon のラッパー )
- fmastodon : 連合タイムライン取得
- fm        : 連合タイムライン取得 ( fmastodon のラッパー )
- hm        : ホーム・タイムライン取得
- toot      : トゥート



## ｌｍａｓｔｏｄｏｎ
### これは何
マストドン・インスタンスのローカル・タイムラインを取得し、標準出力に出力します。  
出力はJSON文字列です。  
全JSON文字列を出力します。  

### 使い方
> lmastodon インスタンスのドメイン名 [トゥートのID]  

トゥートのIDを指定すると該当トゥートより前のタイムラインが出力されます。

### 動作に必要なソフトウェア

- bash
- curl ( SSLとTLSが有効なビルドでなければなりません )
- jq
- sed

### スクリプトの設定
1. 必要に応じてシェルスクリプトのファイル名を変更



## ｌｍ
### これは何
マストドン・インスタンスのローカル・タイムラインを取得し、標準出力に出力します。  
lmastodon のラッパーです。  
出力はJSON文字列です。  
サーバーから返されるJSON文字列のうち、トゥートID、ユーザ名、表示名、トゥート本文を出力します。  

### 使い方
> lm インスタンスのドメイン名 [トゥートのID]

トゥートのIDを指定すると該当トゥートより前のタイムラインが出力されます。

### 動作に必要なソフトウェア

- bash
- curl ( SSLとTLSが有効なビルドでなければなりません )
- jq
- sed
- lmastodon

### スクリプトの設定
1. 必要に応じてシェルスクリプトのファイル名を変更



## ｆｍａｓｔｏｄｏｎ
### これは何
マストドン・インスタンスの連合タイムラインを取得し、標準出力に出力します。  
出力はJSON文字列です。  
全JSON文字列を出力します。  

### 使い方
> fmastodon インスタンスのドメイン名 [トゥートのID]

トゥートのIDを指定すると該当トゥートより前のタイムラインが出力されます。

### 動作に必要なソフトウェア

- bash
- curl ( SSLとTLSが有効なビルドでなければなりません )
- jq
- sed

### スクリプトの設定
1. 必要に応じてシェルスクリプトのファイル名を変更



## ｆｍ
### これは何
マストドン・インスタンスの連合タイムラインを取得し、標準出力に出力します。  
fmastodon のラッパーです。  
出力はJSON文字列です。  
サーバーから返されるJSON文字列のうち、トゥートID、ユーザ名、表示名、トゥート本文を出力します。  

### 使い方
> fm インスタンスのドメイン名 [トゥートのID]

トゥートのIDを指定すると該当トゥートより前のタイムラインが出力されます。

### 動作に必要なソフトウェア

- bash
- curl ( SSLとTLSが有効なビルドでなければなりません )
- jq
- sed
- fmastodon

### スクリプトの設定
1. 必要に応じてシェルスクリプトのファイル名を変更


 
## ｈｍ
### これは何
マストドン・インスタンスのホーム・タイムラインを取得し、標準出力に出力します。  
出力はJSON文字列です。  
サーバーから返されるJSON文字列のうち、トゥートID、ユーザ名、トゥート本文を出力します。  

### 使い方
> hm [トゥートのID]

トゥートのIDを指定すると該当トゥートより前のタイムラインが出力されます。

### 動作に必要なソフトウェア

- bash
- curl ( SSLとTLSが有効なビルドでなければなりません )
- jq
- sed

### スクリプトの設定
1. MASTODON_HOSTにインスタンスのドメインを設定
1. ACCESS_TOKENにアクセストークンを設定  
   アクセストークンは[ここ](https://takahashim.github.io/mastodon-access-token/)から取得してください。  
   アクセストークンはインスタンスが同一なら他のコマンドと共用してもかまいません。  
   アクセストークンを他のコマンドと共用する場合、Scopes には read write follow を指定してください。
1. 必要に応じてシェルスクリプトのファイル名を変更



## ｔｏｏｔ
### これは何
マストドン・インスタンスにトゥートをポストします。  
ポストの結果は標準出力にJSON文字列で出力されます。  
画像や動画などのメディアもアップロードできます。

### 使い方
> toot [-t 'トゥートの内容'] [-f 'メディア・ファイルのパス 1'[ -f 'メディア・ファイルのパス 2'[ -f 'メディア・ファイルのパス 3'[ -f 'メディア・ファイルのパス 4']]]]

### 動作に必要なソフトウェア

- bash
- curl ( SSLとTLSが有効なビルドでなければなりません )
- jq
- sed

### スクリプトの設定
1. MASTODON_HOSTにインスタンスのドメインを設定
1. ACCESS_TOKENにアクセストークンを設定  
   アクセストークンは[ここ](https://takahashim.github.io/mastodon-access-token/)から取得してください。  
   アクセストークンはインスタンスが同一なら他のコマンドと共用してもかまいません。  
   アクセストークンを他のコマンドと共用する場合、Scopes には read write follow を指定してください。
1. 必要に応じてシェルスクリプトのファイル名を変更
